<!DOCTYPE HTML>
<html>

<header>
    <title> The Unofficial ToonTown Rewritten Gag Accuracy Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <link href="calc.css" rel="stylesheet" />
</header>

<body>
    <h1 id="Page Title">Gag Accuracy Calculator</h1>

    <main>
        <select id="gag_choice" label="Gag Choice">
            <option value="toon-up">Toon-Up</option>
            <optgroup label="Lure">
                <option value="smallLure">$1/Small Magnet</option>
                <option value="mediumLure">$5/Large Magnet</option>
                <option value="largeLure">$10/Hypno Goggles</option>
                <option value="presentation"> Presentation</option>
            </optgroup>
            <option value="sound">Sound</option>
            <option value="throw">Throw</option>
            <option value="squirt">Squirt</option>
            <option value="drop">Drop</option>
        </select>

        <select id="target_level" label="Cog Level">
            <optgroup label="Tier 1">
                <option id="1-1">1</option>
                <option id="1-2">2</option>
                <option id="1-3">3</option>
                <option id="1-4">4</option>
                <option id="1-5">5</option>
            </optgroup>
            <optgroup label="Tier 2-8">
                <option id="1">1</option>
                <option id="2">2</option>
                <option id="3">3</option>
                <option id="4">4</option>
                <option id="5">5</option>
                <option id="6">6</option>
                <option id="7">7</option>
                <option id="8">8</option>
                <option id="9">9</option>
                <option id="10">10</option>
                <option id="11">11</option>
                <option id="12">12</option>
                <option id="13+">13+</option>
            </optgroup>
        </select>

        <select id="track_prog" label="Track Progress">
            <option id="G1">1</option>
            <option id="G2">2</option>
            <option id="G3">3</option>
            <option id="G4">4</option>
            <option id="G5">5</option>
            <option id="G6">6</option>
            <option id="G7">7</option>
        </select>

        <input type="checkbox" id="stun" label="Stunned?">Stunned?</input>
        <select id="stunQuantity" label="How Many Stunned?" disabled="true">
            <option id="blankStun" value="blank"></option>
            <option id="S1">1 Gag Stun</option>
            <option id="S2">2 Gag Stun</option>
            <option id="S3">3 Gag Stun</option>
        </select>

        <input type="checkbox" id="lure_ratio" label="Lured?">Some lured?</input>
        <select id="luredQuantity" label="How Many Lured?" disabled="true">
            <option id="blankLure" value="blank"></option>
            <option id="S1">1 Cog Lured</option>
            <option id="S2">2 Cogs Lured</option>
            <option id="S3">3 Cogs Lured</option>
        </select>

        <input type="submit" value="Calculate"></button>

        <script type="text/javascript">

            var stunBox = document.getElementById('stun');
            var stunDropDown = document.getElementById('stunQuantity');

            var lureBox = document.getElementById('lure_ratio');
            var gagDropDown = document.getElementById('gag_choice');
            var lureDropDown = document.getElementById('luredQuantity');

            function toggleDisabled(disableBox, targetDropDown) {
                targetDropDown.disabled = !disableBox.checked;
            }

            stunBox.addEventListener('change', function () {
                toggleDisabled(stunBox, stunDropDown)
                if (stunDropDown.disabled) {
                    stunDropDown.value = "blank";
                }
            })

            lureBox.addEventListener('change', function () {
                if (gagDropDown.value === "sound") {
                    toggleDisabled(lureBox, lureDropDown);
                }
                if (lureDropDown.disabled) {
                    lureDropDown.value = "blank";
                }
            })

            gagDropDown.addEventListener('change', function () {
                if (gagDropDown.value !== "sound") {
                    lureDropDown.disabled = true
                    lureDropDown.value = "blank";
                    lureBox.checked = false;
                }
            })

        </script>
    </main>

</body>

<html>